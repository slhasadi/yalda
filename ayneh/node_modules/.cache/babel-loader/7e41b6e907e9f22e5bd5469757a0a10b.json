{"ast":null,"code":"var _jsxFileName = \"/Users/salehasadi/Desktop/projects/untitled folder/ayeneh/web/ayneh/src/pages/Category/index.js\";\nimport React from 'react';\nimport \"./styles.scss\";\n// import { useDispatch, useSelector } from \"react-redux\"\nimport { GetCatItems } from \"../../network/cnt\";\nimport Back from \"../../assets/icons/back.svg\";\nimport { Link } from 'react-router-dom';\nimport SHAKHENABAT from \"../../assets/images/shakh_nabat.jpg\";\nconst Category = props => {\n  const [category, setCategory] = React.useState();\n  const appMode = props.match.params.mode;\n  React.useEffect(() => {\n    let res = props.location.pathname.split(\"/\");\n    if (props.pageType === \"category\") {\n      getCatDetail(res[res.length - 1]);\n    } else if (props.pageType === \"hafez\") {\n      setCategory({\n        id: \"hafez\",\n        image_file: null,\n        subcategories: [{\n          id: \"shakhenabat\",\n          image_file: SHAKHENABAT,\n          title: \"شاخ نبات\"\n        }],\n        title: \"حافظ\"\n      });\n      if (window.AndroidWebView) {\n        const payload = {\n          key: '5ec3dbb5dae0700001a5a20d',\n          type: 'standard'\n        };\n        window.AndroidWebView.onMessage(JSON.stringify({\n          type: \"SHOW_AD\",\n          payload\n        }));\n      }\n    }\n    return () => {\n      if (props.pageType === \"hafez\") {\n        if (window.AndroidWebView) {\n          let payload = {\n            type: 'standard'\n          };\n          window.AndroidWebView.onMessage(JSON.stringify({\n            type: \"HIDE_ADD\",\n            payload\n          }));\n        }\n      }\n    };\n  }, []);\n  const getCatDetail = id => {\n    props.setLoading(true);\n    GetCatItems(id).then(res => {\n      // console.log(res.data);\n      setCategory(res.data);\n    }).catch(e => {\n      console.log(e);\n    }).finally(() => {\n      props.setLoading(false);\n    });\n  };\n  const renderInnerPage = subCat => {\n    let address;\n    if (props.pageType === \"category\") {\n      address = '/' + appMode + `/subcategory/${subCat.id}`;\n    } else {\n      address = subCat.id;\n    }\n    return address;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categoryContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back\",\n    onClick: () => props.history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Back,\n    alt: \"back\",\n    className: \"backIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), category !== undefined && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pageTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 44\n    }\n  }, category.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, category && category.subcategories.map((subCat, index) => /*#__PURE__*/React.createElement(Link, {\n    to: renderInnerPage(subCat),\n    key: subCat.id + index,\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"bg\",\n    src: subCat.image_file,\n    alt: subCat.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }), props.pageType === \"category\" && /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 59\n    }\n  }, subCat.title)))));\n};\nexport default Category;","map":{"version":3,"names":["React","GetCatItems","Link","SHAKHENABAT","Category","props","category","setCategory","useState","appMode","match","params","mode","useEffect","res","location","pathname","split","pageType","getCatDetail","length","id","image_file","subcategories","title","window","AndroidWebView","payload","key","type","onMessage","JSON","stringify","setLoading","then","data","catch","e","console","log","finally","renderInnerPage","subCat","address","history","goBack","Back","undefined","map","index"],"sources":["/Users/salehasadi/Desktop/projects/untitled folder/ayeneh/web/ayneh/src/pages/Category/index.js"],"sourcesContent":["import React from 'react'\nimport \"./styles.scss\"\n// import { useDispatch, useSelector } from \"react-redux\"\nimport { GetCatItems } from \"../../network/cnt\"\nimport Back from \"../../assets/icons/back.svg\"\nimport { Link } from 'react-router-dom'\nimport SHAKHENABAT from \"../../assets/images/shakh_nabat.jpg\"\nconst Category = (props) => {\n    const [ category, setCategory ] = React.useState()\n\t\tconst appMode = props.match.params.mode;\n    React.useEffect(() => {\n        let res = props.location.pathname.split(\"/\");\n        if( props.pageType === \"category\"){\n            getCatDetail(res[res.length - 1])\n        } else if (props.pageType === \"hafez\"){\n            setCategory({\n                id: \"hafez\",\n                image_file: null,\n                subcategories: [{\n                    id: \"shakhenabat\",\n                    image_file: SHAKHENABAT,\n                    title: \"شاخ نبات\",\n                }],\n                title: \"حافظ\",\n            })\n            if(window.AndroidWebView){\n                const payload = {\n                    key: '5ec3dbb5dae0700001a5a20d',\n                    type: 'standard',\n                }\n                window.AndroidWebView.onMessage(JSON.stringify({ type: \"SHOW_AD\", payload }));\n            }\n        }\n        return () => {\n            if (props.pageType === \"hafez\"){\n                if(window.AndroidWebView){\n                    let payload= {\n                        type: 'standard'\n                    }\n                    window.AndroidWebView.onMessage(JSON.stringify({ type: \"HIDE_ADD\", payload }));\n                }\n            }\n        };\n    },[])\n    const getCatDetail = (id) => {\n        props.setLoading(true)\n        GetCatItems(id).then((res) => {\n            // console.log(res.data);\n            setCategory(res.data)\n        }).catch((e) => {\n            console.log(e);\n        }).finally(() => {\n            props.setLoading(false)\n        })\n    }\n    const renderInnerPage = (subCat) => {\n        let address;\n        if( props.pageType === \"category\"){\n            address = '/'+appMode+`/subcategory/${subCat.id}`\n        } else {\n            address = subCat.id\n        }\n        return address\n    }\n    return (\n        <div className=\"categoryContainer\">\n            <div className=\"header\">\n                <div className=\"back\" onClick={() => props.history.goBack()}>\n                    <img src={Back} alt=\"back\" className=\"backIcon\" />\n                </div>\n                {category !== undefined && <p className=\"pageTitle\">{category.title}</p>}\n            </div>\n            <div className=\"main\">\n                { category && category.subcategories.map((subCat, index) =>\n                    <Link to={renderInnerPage(subCat)} key={subCat.id+index} className=\"item\">\n                        <img className=\"bg\" src={subCat.image_file} alt={subCat.title} />\n                        {props.pageType === \"category\" && <h4 className=\"title\">{subCat.title}</h4>}\n                    </Link>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default Category;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}