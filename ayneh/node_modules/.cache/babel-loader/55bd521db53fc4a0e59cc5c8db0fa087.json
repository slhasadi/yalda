{"ast":null,"code":"var _jsxFileName = \"/Users/salehasadi/Desktop/projects/untitled folder/ayeneh/web/ayneh/src/pages/Dream/index.js\";\nimport React from \"react\";\nimport \"./styles.scss\";\nimport Back from \"../../assets/icons/back.svg\";\nimport Search from \"../../assets/icons/ic-search.svg\";\nimport { GetDreamList } from \"../../network/cnt\";\nconst alphabets = [\"ا\", \"ب\", \"پ\", \"ت\", \"ث\", \"ج\", \"چ\", \"ح\", \"خ\", \"د\", \"ذ\", \"ر\", \"ز\", \"ژ\", \"س\", \"ش\", \"ص\", \"ض\", \"ط\", \"ظ\", \"ع\", \"غ\", \"ف\", \"ق\", \"ک\", \"گ\", \"ل\", \"م\", \"ن\", \"و\", \"ه\", \"ی\"];\nconst DreamPage = props => {\n  const appMode = props.match.params.mode;\n  const [searchRes, setSearchres] = React.useState([]);\n  const [selectedChar, setSelectedChar] = React.useState(alphabets[0]);\n  let [wordsList, setWords] = React.useState([]);\n  let [page, setPage] = React.useState(1);\n  React.useEffect(() => {\n    // console.log(selectedChar);\n    getWords();\n  }, [selectedChar]);\n  const getWords = () => {\n    GetDreamList(selectedChar, page).then(res => {\n      let newWords = wordsList.concat(res.data.results);\n      setWords(newWords);\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n  const onChangeHandler = e => {\n    let word = e.target.value;\n    if (word.length >= 2) {\n      GetDreamList(word).then(res => {\n        // console.log(res.data);\n        setSearchres(res.data.results);\n      }).catch(e => {\n        console.error(e);\n      });\n    } else if (word.length === 0) {\n      setSearchres([]);\n    }\n  };\n  const handleScroll = e => {\n    // console.log(e.target.scrollHeight - e.target.scrollTop, e.target.clientHeight);\n    const bottom = e.target.scrollHeight - e.target.scrollTop <= e.target.clientHeight;\n    if (bottom) {\n      // console.log(\"bottom\");\n      setPage(++page);\n      getWords();\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dreamPageContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back\",\n    onClick: () => props.history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Back,\n    alt: \"back\",\n    className: \"backIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pageTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"\\u062A\\u0639\\u0628\\u06CC\\u0631 \\u062E\\u0648\\u0627\\u0628\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main noPadding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBarContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"\\u0645\\u0646\\u0628\\u0639: \\u0627\\u067E\\u0644\\u06CC\\u06A9\\u06CC\\u0634\\u0646 \\u062A\\u0639\\u0628\\u06CC\\u0631 \\u062E\\u0648\\u0627\\u0628 \\u0628\\u0646\\u0641\\u0634 2\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"icon\",\n    src: Search,\n    alt: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => onChangeHandler(e),\n    autoFocus: true,\n    placeholder: \"جستجوی موضوع خواب\",\n    className: \"searchInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }), searchRes.length !== 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchResult\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, searchRes.map((item, i) => /*#__PURE__*/React.createElement(\"p\", {\n    onClick: () => props.history.push(\"/\" + appMode + \"/dream/\" + item.id),\n    key: item.id + \"-\" + i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, item.subject)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alphabetList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, alphabets.map((char, index) => /*#__PURE__*/React.createElement(\"p\", {\n    onClick: () => {\n      setSelectedChar(char);\n      setPage(1);\n      setWords([]);\n    },\n    className: selectedChar === char ? \"char active\" : \"char\",\n    key: char + index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, char)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wordsList\",\n    onScroll: e => handleScroll(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, wordsList.length !== 0 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, wordsList.map((word, i) => /*#__PURE__*/React.createElement(\"p\", {\n    onClick: () => props.history.push(\"/\" + appMode + \"/dream/\" + word.id),\n    className: \"word\",\n    key: word.id + \"-\" + i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, word.subject))))));\n};\nexport default DreamPage;","map":{"version":3,"names":["React","GetDreamList","alphabets","DreamPage","props","appMode","match","params","mode","searchRes","setSearchres","useState","selectedChar","setSelectedChar","wordsList","setWords","page","setPage","useEffect","getWords","then","res","newWords","concat","data","results","catch","e","console","error","onChangeHandler","word","target","value","length","handleScroll","bottom","scrollHeight","scrollTop","clientHeight","history","goBack","Back","Search","map","item","i","push","id","subject","char","index"],"sources":["/Users/salehasadi/Desktop/projects/untitled folder/ayeneh/web/ayneh/src/pages/Dream/index.js"],"sourcesContent":["import React from \"react\"\nimport \"./styles.scss\"\nimport Back from \"../../assets/icons/back.svg\"\nimport Search from \"../../assets/icons/ic-search.svg\"\nimport { GetDreamList } from \"../../network/cnt\"\nconst alphabets = [\"ا\",\"ب\",\"پ\",\"ت\",\"ث\",\"ج\",\"چ\",\"ح\",\"خ\",\"د\",\"ذ\",\"ر\",\"ز\",\"ژ\",\"س\",\"ش\",\"ص\",\"ض\",\"ط\",\"ظ\",\"ع\",\"غ\",\"ف\",\"ق\",\"ک\",\"گ\",\"ل\",\"م\",\"ن\",\"و\",\"ه\",\"ی\"]\nconst DreamPage = (props) => {\n    const appMode = props.match.params.mode;\n    const [ searchRes, setSearchres ] = React.useState([])\n    const [ selectedChar, setSelectedChar ] = React.useState(alphabets[0])\n    let [ wordsList, setWords ] = React.useState([])\n    let [ page, setPage ] = React.useState(1)\n    React.useEffect(() => {\n        // console.log(selectedChar);\n        getWords()\n    },[selectedChar])\n    const getWords = () => {\n        GetDreamList(selectedChar,page).then((res) => {\n            let newWords = wordsList.concat(res.data.results) \n            setWords(newWords)\n        }).catch((e) => {\n            console.error(e);\n        })\n    }\n    const onChangeHandler = (e) => {\n        let word = e.target.value;\n        if ( word.length >= 2 ){\n            GetDreamList(word).then((res) => {\n                // console.log(res.data);\n                setSearchres(res.data.results)\n            }).catch((e) => {\n                console.error(e);\n            })\n        } else if (word.length === 0 ){\n            setSearchres([])\n        }\n    }\n    const handleScroll = (e) => {\n        // console.log(e.target.scrollHeight - e.target.scrollTop, e.target.clientHeight);\n        const bottom = e.target.scrollHeight - e.target.scrollTop <= e.target.clientHeight;\n        if (bottom) {\n            // console.log(\"bottom\");\n            setPage(++page)\n            getWords()\n        }\n    }\n    return(\n        <div className=\"dreamPageContainer\">\n            <div className=\"header\">\n                <div className=\"back\" onClick={() => props.history.goBack()}>\n                    <img src={Back} alt=\"back\" className=\"backIcon\" />\n                </div>\n                <p className=\"pageTitle\">تعبیر خواب</p>\n            </div>\n            <div className=\"main noPadding\">\n                <div className=\"searchBarContainer\">\n                    <p className=\"title\">منبع: اپلیکیشن تعبیر خواب بنفش 2</p>\n                    <div className=\"searchBox\">\n                        <img className=\"icon\" src={Search} alt=\"search\" />\n                        <input onChange={(e) => onChangeHandler(e)} autoFocus={true} placeholder={\"جستجوی موضوع خواب\"} className=\"searchInput\" />\n                        { searchRes.length !== 0 &&\n                            <div className=\"searchResult\">\n                                { searchRes.map((item, i) => \n                                    <p onClick={() => props.history.push(\"/\"+appMode+\"/dream/\"+item.id)} key={item.id+\"-\"+i}>{item.subject}</p>\n                                )}\n                            </div>\n                        }\n                    </div>\n                    <div className=\"alphabetList\">\n                        { alphabets.map((char, index) =>\n                            <p \n                                onClick={() => {setSelectedChar(char);setPage(1);setWords([])}}\n                                className={selectedChar === char ? \"char active\" : \"char\"} \n                                key={char + index}>{char}</p>\n                        )}\n                    </div>\n                </div>\n                <div className=\"wordsList\" onScroll={(e) => handleScroll(e)}>\n                    { wordsList.length !== 0 &&\n                        <div>\n                            { wordsList.map((word, i) => \n                                <p onClick={() => props.history.push(\"/\"+appMode+\"/dream/\"+word.id)} className=\"word\" key={word.id+\"-\"+i}>{word.subject}</p>\n                            )}\n                        </div>\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default DreamPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}