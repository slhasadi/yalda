{"ast":null,"code":"var _jsxFileName = \"/Users/salehasadi/Desktop/projects/untitled folder/ayeneh/web/ayneh/src/pages/Verification/index.js\";\nimport React from \"react\";\nimport \"./styles.scss\";\nimport { useDispatch } from \"react-redux\";\nimport { UserData } from \"../../actions/index\";\nimport Logo from \"../../assets/images/logo.png\";\nimport { VerificationUser } from \"../../network/user\";\nimport LocalStorageService from \"../../network/localstorageService\";\nconst Onboarding = props => {\n  // console.log(props);\n  const appMode = props.match.params.mode;\n  const dispatch = useDispatch();\n  const phone = props.location.state.phone;\n  const [code, setCode] = React.useState();\n  React.useEffect(() => {\n    if (LocalStorageService.getToken() != null) {\n      props.history.replace(\"/\" + appMode + \"/main\");\n    }\n  }, []);\n  const verify = () => {\n    props.setLoading(true);\n    const body = {\n      phone: phone,\n      otp: code\n    };\n    VerificationUser(body).then(res => {\n      console.log(res.data);\n      LocalStorageService.setToken(res.data.token);\n      dispatch(UserData(res.data.user));\n      props.history.replace(\"/\" + appMode + \"/main\");\n    }).catch(e => {\n      console.log(e.response ? e.response.data : e);\n    }).finally(() => {\n      props.setLoading(false);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"onboardingContainer light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: Logo,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"phone\",\n    className: \"input\",\n    value: code,\n    placeholder: \"کد تایید\",\n    onChange: event => {\n      setCode(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"loginBtn\",\n    onClick: () => verify(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"\\u062A\\u0627\\u06CC\\u06CC\\u062F\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paginationContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dot light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dot dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  })));\n};\nexport default Onboarding;","map":{"version":3,"names":["React","useDispatch","UserData","Logo","VerificationUser","LocalStorageService","Onboarding","props","appMode","match","params","mode","dispatch","phone","location","state","code","setCode","useState","useEffect","getToken","history","replace","verify","setLoading","body","otp","then","res","console","log","data","setToken","token","user","catch","e","response","finally","event","target","value"],"sources":["/Users/salehasadi/Desktop/projects/untitled folder/ayeneh/web/ayneh/src/pages/Verification/index.js"],"sourcesContent":["import React from \"react\"\nimport \"./styles.scss\"\nimport { useDispatch } from \"react-redux\"\nimport { UserData } from \"../../actions/index\"\nimport Logo from \"../../assets/images/logo.png\"\nimport { VerificationUser } from \"../../network/user\"\nimport LocalStorageService from \"../../network/localstorageService\"\nconst Onboarding = (props) => {\n    // console.log(props);\n    const appMode = props.match.params.mode;\n    const dispatch = useDispatch()\n    const phone = props.location.state.phone\n    const [ code, setCode ] = React.useState()\n    React.useEffect(() => {\n        if ( LocalStorageService.getToken() != null ){\n            props.history.replace(\"/\"+appMode+\"/main\")\n        }\n    },[])\n    const verify = () => {\n        props.setLoading(true)\n        const body = {\n            phone: phone,\n            otp: code\n        }\n        VerificationUser(body).then((res) => {\n            console.log(res.data);\n            LocalStorageService.setToken(res.data.token)\n            dispatch(UserData(res.data.user))\n            props.history.replace(\"/\"+appMode+\"/main\")\n        }).catch((e) =>{\n            console.log(e.response ? e.response.data : e)\n        }).finally(() => {\n            props.setLoading(false)\n        })\n    }\n    return(\n        <div className={\"onboardingContainer light\"}>\n           <img className=\"logo\" src={Logo} alt=\"logo\" />\n            <input\n                type={\"phone\"}\n                className=\"input\"\n                value={code}\n                placeholder={\"کد تایید\"}\n                onChange={(event) => {setCode(event.target.value)}} />\n            <button className=\"loginBtn\" onClick={() => verify()}>تایید</button>\n            <div className=\"paginationContainer\">\n                <span className=\"dot light\"></span>\n                <span className=\"dot dark\"></span>\n            </div>\n        </div>\n    )\n}\nexport default Onboarding;"],"mappings":"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"},"metadata":{},"sourceType":"module"}